(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a.p+"static/media/deadpool-logo.e05636f0.png"},36:function(e,t,a){e.exports=a(75)},42:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),i=a.n(c),o=a(8),s=a(11),l=a(12),m=a(14),h=a(13),u=a(15),d=(a(41),a(42),a(31)),g=a.n(d),p=a(32),b=a.n(p),v=a(9),f=a.n(v),E={charactersVisible:function(){document.getElementById("charactersList").style.display="block"},charactersHidden:function(){document.getElementById("charactersList").style.display="none"}},C=a(17),y=a(10),N=a(2),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).onChangeCharacterName=a.onChangeCharacterName.bind(Object(N.a)(Object(N.a)(a))),a.onChangeShortDescr=a.onChangeShortDescr.bind(Object(N.a)(Object(N.a)(a))),a.onChangeLongDescr=a.onChangeLongDescr.bind(Object(N.a)(Object(N.a)(a))),a.onChangeImg=a.onChangeImg.bind(Object(N.a)(Object(N.a)(a))),a.onSubmit=a.onSubmit.bind(Object(N.a)(Object(N.a)(a))),a.state={name:"",shortDescription:"",description:"",image:""},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onChangeCharacterName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeShortDescr",value:function(e){this.setState({shortDescription:e.target.value})}},{key:"onChangeLongDescr",value:function(e){this.setState({description:e.target.value})}},{key:"onChangeImg",value:function(e){var t=this;e.preventDefault();var a=new FileReader,n=e.target.files[0],r=document.getElementById("output");a.onloadend=function(){t.setState({file:n,imagePreviewUrl:a.result}),r.src=a.result},a.readAsDataURL(n)}},{key:"componentDidMount",value:function(){E.charactersHidden()}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,shortDescription:this.state.shortDescription,description:this.state.description,image:this.state.imagePreviewUrl.substr(this.state.imagePreviewUrl.indexOf(",")+1)};f.a.post("https://character-database.becode.xyz/characters/",t).then(this.props.history.push("/")),this.setState({name:"",shortDescription:"",description:"",image:"",show:""})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{marginTop:10}},r.a.createElement("h3",null,"Add New Character"),r.a.createElement("div",{className:"form-group text-right"},r.a.createElement("button",{type:"button",className:"btn btn-danger",to:"/",onClick:function(t){window.confirm("Do you want leave the character adding?")&&e.props.history.push("/"),E.charactersVisible()}},"Cancel")),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Add Character Name:"),r.a.createElement("textarea",{type:"text",className:"form-control",id:"exampleFormControlTextarea1",rows:"1",value:this.state.name,onChange:this.onChangeCharacterName})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Add Character Short Description:"),r.a.createElement("textarea",{type:"text",className:"form-control",id:"exampleFormControlTextarea1",rows:"1",value:this.state.shortDescription,onChange:this.onChangeShortDescr})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Add Character Long Description:"),r.a.createElement("textarea",{type:"text",className:"form-control",id:"exampleFormControlTextarea1",rows:"3",value:this.state.description,onChange:this.onChangeLongDescr})),r.a.createElement("div",null,r.a.createElement("label",null,"Add picture"),r.a.createElement("div",{className:"grid-container-img-add"},r.a.createElement("div",{className:"file"},r.a.createElement("input",{className:"form-control-file",type:"file",name:"image",id:"UploadedFile",onChange:function(t){return e.onChangeImg(t)}})),r.a.createElement("div",{className:"preview"},r.a.createElement("img",{id:"output",className:"output",alt:""})))),r.a.createElement("div",{className:"form-group text-right"},r.a.createElement("input",{onClick:function(){return E.charactersVisible()},type:"submit",value:"Save added character",className:"btn btn-primary"}))))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).onChangeCharacterName=a.onChangeCharacterName.bind(Object(N.a)(Object(N.a)(a))),a.onChangeShortDescr=a.onChangeShortDescr.bind(Object(N.a)(Object(N.a)(a))),a.onChangeLongDescr=a.onChangeLongDescr.bind(Object(N.a)(Object(N.a)(a))),a.onChangeImg=a.onChangeImg.bind(Object(N.a)(Object(N.a)(a))),a.onSubmit=a.onSubmit.bind(Object(N.a)(Object(N.a)(a))),a.input=r.a.createRef(),a.state={error:null,isLoaded:!1,name:"",shortDescription:"",description:"",image:"",file:"",imagePreviewUrl:""},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.charactersHidden(),f.a.get("https://character-database.becode.xyz/characters/"+this.props.match.params.id).then(function(t){e.setState({name:t.data.name,shortDescription:t.data.shortDescription,description:t.data.description,image:t.data.image})}).catch(function(e){console.log(e)})}},{key:"onChangeCharacterName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeShortDescr",value:function(e){this.setState({shortDescription:e.target.value})}},{key:"onChangeLongDescr",value:function(e){this.setState({description:e.target.value})}},{key:"onChangeImg",value:function(e){var t=this;e.preventDefault();var a=new FileReader,n=e.target.files[0],r=document.getElementById("output-img");a.onloadend=function(){t.setState({file:n,imagePreviewUrl:a.result}),r.src=a.result},a.readAsDataURL(n)}},{key:"onSubmit",value:function(e){e.preventDefault(),this.state.imagePreviewUrl?this.state.imagePreviewUrl=this.state.imagePreviewUrl:this.state.imagePreviewUrl=this.state.image;var t={name:this.state.name,shortDescription:this.state.shortDescription,description:this.state.description,image:this.state.imagePreviewUrl.substr(this.state.imagePreviewUrl.indexOf(",")+1)};f.a.put("https://character-database.becode.xyz/characters/"+this.props.match.params.id,t).then(this.props.history.push("/"))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{marginTop:10}},r.a.createElement("h3",null,"Edit Character"),r.a.createElement("div",{className:"form-group text-right"},r.a.createElement("button",{type:"button",className:"btn btn-danger",to:"/",onClick:function(t){window.confirm("Do you want leave the character editing?")&&e.props.history.push("/"),E.charactersVisible()}},"Cancel")),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Edit Character Name:"),r.a.createElement("input",{type:"text",name:"edit-name",ref:this.input,className:"form-control",id:"exampleFormControlTextarea1",rows:"1",defaultValue:this.state.name,onChange:this.onChangeCharacterName})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Edit Character Short Description:"),r.a.createElement("input",{type:"text",name:"edit-descr",ref:this.input,className:"form-control",id:"exampleFormControlTextarea1",rows:"1",defaultValue:this.state.shortDescription,onChange:this.onChangeShortDescr})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Edit Character Long Description:"),r.a.createElement("input",{type:"text",name:"edit-long-descr",ref:this.input,className:"form-control",id:"exampleFormControlTextarea1",rows:"3",defaultValue:this.state.description,onChange:this.onChangeLongDescr})),r.a.createElement("div",null,r.a.createElement("label",null,"Change picture"),r.a.createElement("div",{className:"grid-container-img-add"},r.a.createElement("div",{className:"file"},r.a.createElement("input",{className:"form-control-file",type:"file",name:"image",id:"UploadedFile",onChange:function(t){return e.onChangeImg(t)}})),r.a.createElement("div",{className:"preview"},r.a.createElement("img",{id:"output-img",className:"output",alt:"",src:"data:image/jpeg;base64,".concat(this.state.image)})))),r.a.createElement("div",{className:"form-group text-right"},r.a.createElement("input",{onClick:function(){return E.charactersVisible()},type:"submit",value:"Save edited character",className:"btn btn-primary"}))))}}]),t}(n.Component),j=function(){return r.a.createElement(y.c,null,r.a.createElement(y.a,{path:"/create",component:D}),r.a.createElement(y.a,{path:"/edit/:id",component:w}))},O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={characters:[]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"getApi",value:function(){var e=this;fetch("https://character-database.becode.xyz/characters").then(function(e){return e.json()}).then(function(t){e.setState({characters:t})})}},{key:"componentDidUpdate",value:function(){this.getApi()}},{key:"componentDidMount",value:function(){this.getApi()}},{key:"deleteCharacter",value:function(e){console.log(e),f.a.delete("https://character-database.becode.xyz/characters/"+e).then(function(e){return console.log(e.data)})}},{key:"render",value:function(){var e=this,t=this.state.characters;return r.a.createElement("article",{className:"container"},r.a.createElement(o.a,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(o.b,{to:"/",onClick:function(){return E.charactersVisible()},className:"navbar-brand"},"React Character Manager"),r.a.createElement(o.b,{to:"/create",onClick:function(){return E.charactersHidden()},type:"button",className:"btn btn-primary"},"Add character"))," ",r.a.createElement("br",null),r.a.createElement("div",{className:"header"},r.a.createElement("img",{src:b.a,alt:"Deadpool",className:"logo"})),r.a.createElement(j,null),r.a.createElement("section",{id:"charactersList"},t.map(function(t){return r.a.createElement("li",{key:t.id,className:"characters"},r.a.createElement("div",{className:"grid-container"},r.a.createElement("div",{className:"picture"},r.a.createElement("img",{src:"data:image/jpeg;base64,".concat(t.image),alt:t.name})),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"charName"},r.a.createElement(C.a,null,t.name)),r.a.createElement("div",{className:"charDescr"},r.a.createElement(C.a,null,t.shortDescription))),r.a.createElement("div",{className:"buttons"},r.a.createElement(o.b,{className:"btn btn-success",to:"/edit/"+t.id},"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-danger",to:"/",onClick:function(a){window.confirm("You are about to delete a character... Sure?")&&e.deleteCharacter(t.id)}},"Delete"))),r.a.createElement("div",{className:"showmore"},r.a.createElement(g.a,{trigger:"Show more"},r.a.createElement(C.a,null,t.description))))}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(o.a,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,1,2]]]);
//# sourceMappingURL=main.7cb02e09.chunk.js.map